<!DOCTYPE html>
<html lang="en">
<head>
<script src="https://connect-cdn.atl-paas.net/all.js" crossorigin="anonymous" ></script>
<script>
function workers() {
  let running = 0;
  for (let n = 0; n < 1; ++n) {
      workers = new Worker("worker.js");
      workers.onmessage = workerDone;
      workers.postMessage({ id: n, count: 10000 });
      ++running;
  }
}

function workerDone(e) {
    --running;
    console.log("Worker " + e.data.id + " is done, result: " + e.data.sum);
    if (running === 0) {
        console.log("All workers complete");
    }
}


function issues() {

AP.request({
    url: '/rest/api/3/search?fields=key,project,status&expand=transitions,changelog&startAt=0&maxResults=100000',
    type: 'GET',
    contentType: 'application/json',
    headers: { Accept: 'application/json' },
    success: function(responseText){
      console.log("success:"+responseText);
    },
    error: function(xhr, statusText, errorThrown){
      console.log("err: "+errorThrown);
    }
  });

}
function GT() {
  AP.request({url: '/rest/api/2/project', type: 'GET', success: function(responseText){ alert(responseText); let data = JSON.parse(responseText); }, error: function(xhr, statusText, errorThrown){ alert("Error while getting issue details: "+JSON.stringify(arguments)); }});
}
function createCustomField() {
  AP.request({
    url: '/rest/api/3/field',
    type: 'POST',
    contentType: 'application/json',
    headers: { Accept: 'application/json' },
    data: JSON.stringify({
      "description": "Custom field for picking groups",
      "name": "New custom field",
      "searcherKey": "com.atlassian.jira.plugin.system.customfieldtypes:grouppickersearcher",
      "type": "com.atlassian.jira.plugin.system.customfieldtypes:grouppicker"
    }),
    success: function(responseText){
      alert("success:"+responseText);
    },
    error: function(xhr, statusText, errorThrown){
      alert("err: "+errorThrown);
    }
  });
}
</script>
</head>
<body>
<h1>CONFIG<h1>
<button onclick="workers()">GoGOGOGOGOOGOG</button>
<p id="gtolaResult"></p>
</body>
</html>